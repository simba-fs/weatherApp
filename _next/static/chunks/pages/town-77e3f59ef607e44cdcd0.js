(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{3457:function(n,t,o){"use strict";o.r(t),o.d(t,{default:function(){return u}});var r=o(5893),e=o(5723),i=o(5055);function u(){var n=(0,e.ZP)("town",(function(){return new Promise((function(n,t){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords.longitude,t.coords.latitude);var o=t.coords,r=o.longitude,e=o.latitude;return fetch("https://api.nlsc.gov.tw/other/TownVillagePointQuery/".concat(r,"/").concat(e)).then((function(n){return n.text()})).then((function(n){return(0,i.parseStringPromise)(n)})).then((function(n){return Object.values(n.townVillageItem).map((function(n){return n[0]}))})).then((function(n){return{city:n[1],town:n[3]}})).then((function(t){return n(t)}))}),console.error):n({city:"unknown",town:"unknown"})}))})),t=n.data,o=n.error;return t?o?(0,r.jsxs)("h1",{children:["Error: ",JSON.stringify(o,null,2)]}):(0,r.jsxs)("h1",{children:[t.city,t.town]}):(0,r.jsx)("h1",{children:"Loading ......"})}},282:function(n,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/town",function(){return o(3457)}])},2361:function(){},4616:function(){}},function(n){n.O(0,[723,55,774,888,179],(function(){return t=282,n(n.s=t);var t}));var t=n.O();_N_E=t}]);